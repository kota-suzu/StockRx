<%#
  StoreAuthMailer - 一時パスワード通知メール (テキスト版)
  ============================================================================
  CLAUDE.md準拠: プレーンテキスト対応・アクセシビリティ配慮
  
  用途:
  - HTMLメール未対応クライアント向け
  - テキストリーダー対応
  - セキュリティ要件（プレーンテキスト優先環境）
  ============================================================================
%>
<%= "=" * 60 %>
🏪 <%= @store.name %> - <%= t('store_auth_mailer.temp_password_notification.subtitle') %>
<%= "=" * 60 %>

<%= t('store_auth_mailer.temp_password_notification.greeting', name: @store_user.name) %>

<%= t('store_auth_mailer.temp_password_notification.intro_text') %>

┌─ <%= t('store_auth_mailer.temp_password_notification.password_label') %> ─┐
│                                          │
│   <%= @plain_password.center(38) %>   │
│                                          │
└──────────────────────────────────────────┘

⏰ <%= t('store_auth_mailer.temp_password_notification.expires_label') %>:
   <%= l(@expires_at, format: :long) %>
   (<%= @security_metadata[:expires_in_words] %>)

🔐 <%= t('store_auth_mailer.temp_password_notification.login_url_label') %>:
   <%= @login_url %>

<%= "─" * 60 %>
⚠️  <%= t('store_auth_mailer.temp_password_notification.security_warning') %>
<%= "─" * 60 %>

<% t('store_auth_mailer.temp_password_notification.security_notes').each_with_index do |note, index| %>
<%= "#{index + 1}. #{note % { duration: @security_metadata[:expires_in_words] }}" %>

<% end %>

<%= "─" * 60 %>
📋 <%= t('store_auth_mailer.temp_password_notification.additional_info') %>
<%= "─" * 60 %>

<%= t('store_auth_mailer.temp_password_notification.generated_at_label') %>: <%= l(@security_metadata[:generated_at], format: :short) %>
<%= t('store_auth_mailer.temp_password_notification.store_name_label') %>: <%= @store.name %>
<%= t('store_auth_mailer.temp_password_notification.user_role_label') %>: <%= t("user_roles.#{@store_user.role}") %>

<%= "─" * 60 %>
💡 <%= t('store_auth_mailer.temp_password_notification.troubleshooting_title') %>
<%= "─" * 60 %>

<%= t('store_auth_mailer.temp_password_notification.troubleshooting_steps') %>

1. <%= t('store_auth_mailer.temp_password_notification.troubleshooting.step1') %>
2. <%= t('store_auth_mailer.temp_password_notification.troubleshooting.step2') %>
3. <%= t('store_auth_mailer.temp_password_notification.troubleshooting.step3') %>
4. <%= t('store_auth_mailer.temp_password_notification.troubleshooting.step4') %>

<%= "=" * 60 %>
📞 <%= t('store_auth_mailer.temp_password_notification.support_section') %>
<%= "=" * 60 %>

<%= t('store_auth_mailer.temp_password_notification.support_text') %>

📧 <%= t('store_auth_mailer.temp_password_notification.support_email') %>: <%= ENV.fetch('MAILER_STORE_REPLY_TO', 'store-support@stockrx.example.com') %>
🌐 <%= t('store_auth_mailer.temp_password_notification.support_website') %>: <%= Rails.application.routes.url_helpers.root_url %>

<%= "─" * 60 %>

<%= t('store_auth_mailer.temp_password_notification.footer_text') %>

<%= t('store_auth_mailer.temp_password_notification.confidentiality_notice') %>

StockRx - <%= Date.current.year %>
<%= "=" * 60 %>