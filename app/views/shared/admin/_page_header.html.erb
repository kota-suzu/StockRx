<%# Unified Page Header Component for Admin Interface %>

<!--
  Usage: 
  render 'admin_controllers/shared/page_header',
         title: 'Page Title',
         subtitle: 'Page description',
         icon: 'bi-box',
         icon_color: 'primary',
         back_path: admin_inventories_path,
         back_text: 'ä¸€è¦§ã«æˆ»ã‚‹',
         breadcrumbs: [
           { text: 'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰', path: admin_root_path },
           { text: 'åœ¨åº«ç®¡ç†', path: admin_inventories_path },
           { text: 'è©³ç´°', active: true }
         ],
         actions: [
           { text: 'ç·¨é›†', path: edit_path, icon: 'bi-pencil', class: 'btn-warning' },
           { text: 'å‰Šé™¤', path: delete_path, method: :delete, icon: 'bi-trash', class: 'btn-danger', confirm: 'Are you sure?' }
         ]

  Parameters:
  - title: Page title (required)
  - subtitle: Page subtitle/description (optional)
  - icon: Bootstrap icon class (optional, default: 'bi-file-text')
  - icon_color: Bootstrap color name (optional, default: 'primary')
  - back_path: Path for back button (optional)
  - back_text: Text for back button (optional, default: 'æˆ»ã‚‹')
  - breadcrumbs: Array of breadcrumb items (optional)
  - actions: Array of action buttons (optional)
%>

<% 
  # Set defaults
  icon ||= 'bi-file-text'
  icon_color ||= 'primary'
  back_text ||= 'æˆ»ã‚‹'
  breadcrumbs ||= []
  actions ||= []
%>

<div class="admin-page-header mb-4">
  <%# Breadcrumb Navigation %>
  <% if breadcrumbs.any? %>
    <nav aria-label="breadcrumb" class="mb-3">
      <ol class="breadcrumb">
        <% breadcrumbs.each do |crumb| %>
          <% if crumb[:active] %>
            <li class="breadcrumb-item active" aria-current="page"><%= crumb[:text] %></li>
          <% else %>
            <li class="breadcrumb-item">
              <%= link_to crumb[:path], class: "text-decoration-none" do %>
                <% if crumb[:icon] %>
                  <i class="<%= crumb[:icon] %> me-1" aria-hidden="true"></i>
                <% end %>
                <%= crumb[:text] %>
              <% end %>
            </li>
          <% end %>
        <% end %>
      </ol>
    </nav>
  <% end %>

  <%# Main Header Card %>
  <div class="card border-0 shadow-sm">
    <div class="card-body p-4">
      <div class="row align-items-center">
        <div class="col-lg-8">
          <div class="d-flex align-items-center">
            <%# Icon %>
            <div class="page-header-icon me-3 text-<%= icon_color %>">
              <i class="bi <%= icon %>"></i>
            </div>
            
            <%# Title and Subtitle %>
            <div>
              <h1 class="h2 mb-1 fw-bold"><%= title %></h1>
              <% if subtitle.present? %>
                <p class="text-muted mb-0"><%= subtitle %></p>
              <% end %>
            </div>
          </div>
        </div>
        
        <%# Action Buttons Area - æ”¹å–„ç‰ˆï¼ˆæˆ»ã‚‹ãƒœã‚¿ãƒ³ã¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ã‚’çµ±åˆï¼‰ %>
        <% if back_path.present? || actions.any? %>
          <div class="col-lg-4 text-lg-end mt-3 mt-lg-0">
            <div class="d-flex gap-2 justify-content-lg-end justify-content-start flex-wrap">
              <%# Back Button - å³å´ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¨ãƒªã‚¢ã«ç§»å‹• %>
              <% if back_path.present? %>
                <%= link_to back_path, class: "btn btn-outline-secondary" do %>
                  <i class="bi bi-arrow-left me-1"></i><%= back_text %>
                <% end %>
              <% end %>
              
              <%# Additional Action Buttons %>
              <% actions.each do |action| %>
                <% if action[:method] == :delete %>
                  <%= button_to action[:path], 
                               method: action[:method],
                               class: "btn #{action[:class] || 'btn-secondary'}",
                               form: { data: { turbo_confirm: action[:confirm] } } do %>
                    <% if action[:icon] %>
                      <i class="bi <%= action[:icon] %> me-1" aria-hidden="true"></i>
                    <% end %>
                    <%= action[:text] %>
                  <% end %>
                <% else %>
                  <%= link_to action[:path], 
                             class: "btn #{action[:class] || 'btn-secondary'}",
                             method: action[:method] do %>
                    <% if action[:icon] %>
                      <i class="bi <%= action[:icon] %> me-1" aria-hidden="true"></i>
                    <% end %>
                    <%= action[:text] %>
                  <% end %>
                <% end %>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

<%# Page Header Styles %>
<style>
  .admin-page-header .page-header-icon {
    font-size: 48px;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(var(--bs-primary-rgb), 0.1), rgba(var(--bs-primary-rgb), 0.2));
    border-radius: 50%;
  }
  
  .admin-page-header .page-header-icon.text-success {
    background: linear-gradient(135deg, rgba(var(--bs-success-rgb), 0.1), rgba(var(--bs-success-rgb), 0.2));
  }
  
  .admin-page-header .page-header-icon.text-warning {
    background: linear-gradient(135deg, rgba(var(--bs-warning-rgb), 0.1), rgba(var(--bs-warning-rgb), 0.2));
  }
  
  .admin-page-header .page-header-icon.text-danger {
    background: linear-gradient(135deg, rgba(var(--bs-danger-rgb), 0.1), rgba(var(--bs-danger-rgb), 0.2));
  }
  
  .admin-page-header .page-header-icon.text-info {
    background: linear-gradient(135deg, rgba(var(--bs-info-rgb), 0.1), rgba(var(--bs-info-rgb), 0.2));
  }
</style>

<%# ============================================ %>
<%# TODO: Phase 3-4ï¼ˆæŽ¨å¥¨ï¼‰- UIæ©Ÿèƒ½æ‹¡å¼µ %>
<%# ============================================ %>
<%# å„ªå…ˆåº¦: ä¸­ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šï¼‰ %>
<%# 
<%# ðŸŸ¡ Phase 3 - é«˜åº¦ãªãƒšãƒ¼ã‚¸ãƒ˜ãƒƒãƒ€ãƒ¼æ©Ÿèƒ½: %>
<%#   - å‹•çš„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³è¡¨ç¤ºåˆ¶å¾¡ %>
<%#   - æ¨©é™ãƒ™ãƒ¼ã‚¹ã®ãƒœã‚¿ãƒ³è¡¨ç¤º/éžè¡¨ç¤º %>
<%#   - ãƒ‘ãƒ³ããšãƒŠãƒ“è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½ %>
<%#   - ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«ã®è‡ªå‹•SEOæœ€é©åŒ– %>
<%# 
<%# ðŸŸ¢ Phase 4 - ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¼·åŒ–: %>
<%#   - ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ %>
<%#   - ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒªãƒ¼ãƒ€ãƒ¼æœ€é©åŒ– %>
<%#   - é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ†ãƒ¼ãƒžå¯¾å¿œ %>
<%#   - éŸ³å£°æ“ä½œã‚µãƒãƒ¼ãƒˆæº–å‚™ %>
<%# 
<%# æ¨ªå±•é–‹ç¢ºèªé …ç›®: %>
<%#   - [ ] å…¨ç®¡ç†ç”»é¢ã§ã®page_headerä½¿ç”¨çµ±ä¸€ %>
<%#   - [ ] ãƒ¢ãƒã‚¤ãƒ«è¡¨ç¤ºæœ€é©åŒ–ã®ä¸€è²«æ€§ %>
<%#   - [ ] ã‚¢ã‚¤ã‚³ãƒ³ä½¿ç”¨è¦å‰‡ã®æ¨™æº–åŒ– %>
<%#   - [ ] ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆé©ç”¨ã®çµ±ä¸€ %>
<%# 
<%# æœŸå¾…åŠ¹æžœ: %>
<%#   - UI/UXä¸€è²«æ€§ã®å®Œå…¨ç¢ºä¿ %>
<%#   - é–‹ç™ºåŠ¹çŽ‡20%å‘ä¸Šï¼ˆå†åˆ©ç”¨æ€§ï¼‰ %>
<%#   - ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£AAæº–æ‹  %>
<%#   - ä¿å®ˆã‚³ã‚¹ãƒˆ30%å‰Šæ¸› %>
<%# %>