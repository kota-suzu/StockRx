<%# Bootstrap 5 ãƒ¢ãƒ€ãƒ³ãƒ­ã‚°ã‚¤ãƒ³ãƒšãƒ¼ã‚¸ - StockRx ç®¡ç†è€…èªè¨¼ %>
<div class="min-vh-100 d-flex align-items-center justify-content-center bg-light py-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 col-md-6 col-lg-4">
        
        <%# ãƒ–ãƒ©ãƒ³ãƒ‰ãƒ˜ãƒƒãƒ€ãƒ¼ %>
        <div class="text-center mb-4">
          <div class="mb-3">
            <i class="fas fa-boxes-stacked fa-3x text-primary"></i>
          </div>
          <h1 class="h3 mb-2 fw-bold text-dark">StockRx ç®¡ç†ç”»é¢</h1>
          <p class="text-muted mb-0">åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </p>
        </div>

        <%# ãƒ­ã‚°ã‚¤ãƒ³ã‚«ãƒ¼ãƒ‰ %>
        <div class="card shadow-lg border-0">
          <div class="card-header bg-primary text-white text-center py-3">
            <h2 class="h5 mb-0">
              <i class="fas fa-sign-in-alt me-2"></i>ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³
            </h2>
          </div>
          
          <div class="card-body p-4">
            <%# ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã‚¨ãƒªã‚¢ %>
            <%= render "admin_controllers/shared/error_messages", resource: resource %>
            
            <%= form_for(resource, as: resource_name, url: session_path(resource_name), 
                         data: { turbo: false }, class: "needs-validation", novalidate: true) do |f| %>
              
              <%# ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å…¥åŠ› %>
              <div class="mb-3">
                <%= f.label :email, "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹", class: "form-label fw-medium" %>
                <div class="input-group">
                  <span class="input-group-text bg-light">
                    <i class="fas fa-envelope text-muted"></i>
                  </span>
                  <%= f.email_field :email, 
                      autofocus: true, 
                      autocomplete: "email",
                      class: "form-control form-control-lg",
                      placeholder: "admin@example.com",
                      required: true %>
                  <div class="invalid-feedback">
                    æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
                  </div>
                </div>
              </div>

              <%# ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ› %>
              <div class="mb-3">
                <%= f.label :password, "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰", class: "form-label fw-medium" %>
                <div class="input-group">
                  <span class="input-group-text bg-light">
                    <i class="fas fa-lock text-muted"></i>
                  </span>
                  <%= f.password_field :password, 
                      autocomplete: "current-password",
                      class: "form-control form-control-lg",
                      placeholder: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›",
                      required: true %>
                  <div class="invalid-feedback">
                    ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
                  </div>
                </div>
              </div>

              <%# ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ä¿æŒ %>
              <% if devise_mapping.rememberable? %>
                <div class="mb-4">
                  <div class="form-check">
                    <%= f.check_box :remember_me, class: "form-check-input" %>
                    <%= f.label :remember_me, "ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã‚’ä¿æŒã™ã‚‹", class: "form-check-label text-muted" %>
                  </div>
                </div>
              <% end %>

              <%# ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ %>
              <div class="d-grid mb-3">
                <%= f.submit "ãƒ­ã‚°ã‚¤ãƒ³", 
                    class: "btn btn-primary btn-lg fw-medium",
                    data: { 
                      disable_with: '<i class="fas fa-spinner fa-spin me-2"></i>ãƒ­ã‚°ã‚¤ãƒ³ä¸­...' 
                    } %>
              </div>
            <% end %>

            <%# GitHubã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ­ã‚°ã‚¤ãƒ³ %>
            <div class="text-center">
              <div class="d-flex align-items-center mb-3">
                <hr class="flex-grow-1">
                <span class="px-3 text-muted small">ã¾ãŸã¯</span>
                <hr class="flex-grow-1">
              </div>
              
              <%= link_to admin_omniauth_authorize_path(:github), 
                  method: :post,
                  class: "btn btn-outline-dark btn-lg w-100",
                  data: { turbo: false } do %>
                <i class="fab fa-github me-2"></i>GitHubã§ãƒ­ã‚°ã‚¤ãƒ³
              <% end %>
            </div>
          </div>
          
          <%# ãƒ•ãƒƒã‚¿ãƒ¼ãƒªãƒ³ã‚¯ %>
          <div class="card-footer bg-light text-center py-3">
            <%= render "admin_controllers/shared/links" %>
          </div>
        </div>

        <%# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æƒ…å ± %>
        <div class="text-center mt-4">
          <small class="text-muted">
            <i class="fas fa-shield-alt me-1"></i>
            ã“ã®ã‚µã‚¤ãƒˆã¯ SSL ã§ä¿è­·ã•ã‚Œã¦ã„ã¾ã™
          </small>
        </div>
        
        <%# TODO: ğŸŸ¡ Phase 2 - ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œå›æ•°åˆ¶é™è¡¨ç¤º %>
        <%# å„ªå…ˆåº¦: ä¸­ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å‘ä¸Šï¼‰ %>
        <%# å®Ÿè£…å†…å®¹: æ®‹ã‚Šè©¦è¡Œå›æ•°ã€ãƒ­ãƒƒã‚¯æ™‚é–“ã®è¡¨ç¤º %>
        <%# ç†ç”±: ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ„è­˜å‘ä¸Š %>
        <%# æœŸå¾…åŠ¹æœ: ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹æ”»æ’ƒæŠ‘åˆ¶ %>
        <%# å·¥æ•°è¦‹ç©: 1æ—¥ %>
        <%# ä¾å­˜é–¢ä¿‚: Devise lockableè¨­å®šã®è©³ç´°åŒ– %>

      </div>
    </div>
  </div>
</div>

<%# Bootstrap 5 Form Validation %>
<script>
(function() {
  'use strict';
  window.addEventListener('load', function() {
    // ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
    var forms = document.getElementsByClassName('needs-validation');
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();
</script> 