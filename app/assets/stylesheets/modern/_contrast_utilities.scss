// ============================================
// ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
// ============================================
// CLAUDE.mdæº–æ‹ : WCAG AAåŸºæº–ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆä¿è¨¼
// ãƒ¡ã‚¿èªçŸ¥: å‹•çš„èƒŒæ™¯è‰²ã§ã‚‚é©åˆ‡ãªã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã‚’ç¶­æŒ

// ============================================
// é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ
// ============================================
@media (prefers-contrast: high) {
  :root {
    // ã‚ˆã‚Šå¼·ã„ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã®æ–‡å­—è‰²
    --text-primary: #{$slate-950};      // #020617 (æœ€ã‚‚æ¿ƒã„)
    --text-secondary: #{$slate-900};    // #0f172a
    --text-muted: #{$slate-700};        // #334155
    
    // ã‚ˆã‚Šæ˜ç¢ºãªèƒŒæ™¯è‰²
    --bg-base: #ffffff;
    --bg-surface: #ffffff;
    --bg-section: #{$slate-50};
    
    // å¼·èª¿ã•ã‚ŒãŸãƒœãƒ¼ãƒ€ãƒ¼
    --border-light: #{$slate-400};
    --border-default: #{$slate-600};
    --border-strong: #{$slate-800};
  }
  
  // ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ + é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ
  [data-theme="dark"] {
    --text-primary: #ffffff;
    --text-secondary: #{$slate-50};
    --text-muted: #{$slate-100};
    
    --bg-base: #000000;
    --bg-surface: #{$slate-950};
    --bg-section: #{$slate-900};
  }
}

// ============================================
// å°åˆ·ãƒ¡ãƒ‡ã‚£ã‚¢å¯¾å¿œ
// ============================================
@media print {
  :root {
    // å°åˆ·ç”¨ã®é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆè¨­å®š
    --text-primary: #000000;
    --text-secondary: #1a1a1a;
    --text-muted: #333333;
    
    --bg-base: #ffffff;
    --bg-surface: #ffffff;
    --bg-section: #f5f5f5;
    
    // å°åˆ·æ™‚ã¯ãƒœãƒ¼ãƒ€ãƒ¼ã‚’æ˜ç¢ºã«
    --border-light: #666666;
    --border-default: #333333;
    --border-strong: #000000;
  }
  
  // èƒŒæ™¯è‰²ã‚’é™¤å»ï¼ˆã‚¤ãƒ³ã‚¯ç¯€ç´„ï¼‰
  .card, .table-container-modern {
    background: none !important;
    border: 1px solid #000000 !important;
  }
  
  // ãƒªãƒ³ã‚¯ã®ã‚¢ãƒ³ãƒ€ãƒ¼ãƒ©ã‚¤ãƒ³è¡¨ç¤º
  a {
    text-decoration: underline !important;
  }
}

// ============================================
// ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å€¤ã‚’å«ã‚€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚¯ãƒ©ã‚¹
// ============================================
.text-primary-safe {
  color: #1e293b; /* fallback for older browsers */
  color: var(--text-primary);
}

.text-secondary-safe {
  color: #334155; /* fallback */
  color: var(--text-secondary);
}

.text-muted-safe {
  color: #64748b; /* fallback */
  color: var(--text-muted);
}

// ============================================
// å‹•çš„ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆèª¿æ•´ã‚¯ãƒ©ã‚¹
// ============================================
// èƒŒæ™¯è‰²ã«å¿œã˜ã¦è‡ªå‹•çš„ã«ãƒ†ã‚­ã‚¹ãƒˆè‰²ã‚’èª¿æ•´
.auto-contrast {
  // æ˜ã‚‹ã„èƒŒæ™¯ç”¨
  &.bg-light {
    color: var(--text-primary);
  }
  
  // æš—ã„èƒŒæ™¯ç”¨
  &.bg-dark {
    color: var(--text-inverse);
  }
  
  // ãƒ—ãƒ©ã‚¤ãƒãƒªèƒŒæ™¯ç”¨
  &.bg-primary {
    color: #ffffff;
  }
}

// TODO: ğŸŸ¡ Phase 5ï¼ˆæ”¹å–„ï¼‰- å‹•çš„ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆè¨ˆç®—
// å„ªå…ˆåº¦: ä¸­ï¼ˆã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å‘ä¸Šï¼‰
// - JavaScriptã«ã‚ˆã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆè¨ˆç®—
// - APCAï¼ˆAdvanced Perceptual Contrast Algorithmï¼‰å¯¾å¿œ
// - ã‚«ã‚¹ã‚¿ãƒ ãƒ†ãƒ¼ãƒã§ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆä¿è¨¼