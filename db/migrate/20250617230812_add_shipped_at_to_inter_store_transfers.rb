class AddShippedAtToInterStoreTransfers < ActiveRecord::Migration[8.0]
  # CLAUDE.mdæº–æ‹ : InterStoreTransferãƒ¢ãƒ‡ãƒ«ã®shipped_atã‚«ãƒ©ãƒ è¿½åŠ 
  # ãƒ¡ã‚¿èªçŸ¥: å®Œå…¨ãªã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ï¼ˆç”³è«‹â†’æ‰¿èªâ†’å‡ºè·â†’å®Œäº†ï¼‰ã®ãŸã‚å¿…é ˆ
  # æ¨ªå±•é–‹: requested_at, approved_at, completed_atã¨ã®ä¸€è²«æ€§ç¢ºä¿
  def change
    add_column :inter_store_transfers, :shipped_at, :datetime,
               comment: "å‡ºè·æ—¥æ™‚"

    # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æœ€é©åŒ–: å‡ºè·æ—¥æ™‚ã§ã®æ¤œç´¢ãƒ»ã‚½ãƒ¼ãƒˆç”¨ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
    # ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹: ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤ºã§ã®é«˜é€ŸåŒ–
    add_index :inter_store_transfers, :shipped_at,
              comment: "å‡ºè·æ—¥æ™‚æ¤œç´¢æœ€é©åŒ–"

    # TODO: ðŸ”´ Phase 1ï¼ˆç·Šæ€¥ï¼‰- shipped_by_idã¨ã®è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ¤œè¨Ž
    #   - å‡ºè·è€…åˆ¥ã®å‡ºè·å±¥æ­´æ¤œç´¢æœ€é©åŒ–
    #   - ç®¡ç†è€…åˆ¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹åˆ†æžæ©Ÿèƒ½
    #   - æ¨ªå±•é–‹: ä»–ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ— + ãƒ¦ãƒ¼ã‚¶ãƒ¼IDè¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
    #
    # TODO: ðŸŸ¡ Phase 3ï¼ˆé‡è¦ï¼‰- shipped_atã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®æ•´åˆæ€§åˆ¶ç´„
    #   - CHECKåˆ¶ç´„: in_transit/completedã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ™‚ã®shipped_atå¿…é ˆåŒ–
    #   - ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ç¢ºä¿ã¨ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«å¼·åˆ¶
    #   - æ¨ªå±•é–‹: ä»–ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã§ã‚‚åŒæ§˜ã®åˆ¶ç´„æ¤œè¨Ž
  end
end
